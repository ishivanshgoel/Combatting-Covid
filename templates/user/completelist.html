{% extends 'userlayout.html' %}

{% block body %}

<div class="col-12 offset-md-1 col-md-10 mt-5 pb-5">
    <ul class="nav nav-tabs nav-justified" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="oxygen-tab" data-bs-toggle="tab" data-bs-target="#oxygen" type="button"
                role="tab" aria-controls="oxygen" aria-selected="true">Oxygen</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="pharma-tab" data-bs-toggle="tab" data-bs-target="#pharma" type="button"
                role="tab" aria-controls="pharma" aria-selected="false">Pharma</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="plasma-tab" data-bs-toggle="tab" data-bs-target="#plasma" type="button"
                role="tab" aria-controls="plasma" aria-selected="false">Plasma</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="hospital-tab" data-bs-toggle="tab" data-bs-target="#hospital" type="button"
                role="tab" aria-controls="hospital" aria-selected="false">Hospital</button>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="oxygen" role="tabpanel" aria-labelledby="oxygen-tab">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th scope="col" class="col-10">Info</th>
                        <th scope="col" class="col-2">Posted on Instagram</th>
                    </tr>
                </thead>
                <tbody>
                    {% for o in oxygenList reversed %}
                    <tr>
                        <td>{{o}}</td>
                        <td>
                            <form action="{% url 'usercompletelist' %}" method="POST">
                                {% csrf_token %}
                                <div class="form-check form-switch">
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    {% if o.posted %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox" checked>
                                    <label class="form-check-label" for="postedCheckbox">Posted</label>
                                    {% else %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    <label class="form-check-label" for="postedCheckbox">Not Posted</label>
                                    {% endif %}
                                </div>
                                <input type="hidden" name="modelType" value="Oxygen">
                                <input type="hidden" name="id" value={{o.id}}>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="pharma" role="tabpanel" aria-labelledby="pharma-tab">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th scope="col" class="col-10">Info</th>
                        <th scope="col" class="col-2">Posted on Instagram</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in pharmaList reversed %}
                    <tr>
                        <td>{{p}}</td>
                        <td>
                            <form action="{% url 'usercompletelist' %}" method="POST">
                                {% csrf_token %}
                                <div class="form-check form-switch">
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    {% if p.posted %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox" checked>
                                    <label class="form-check-label" for="postedCheckbox">Posted</label>
                                    {% else %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    <label class="form-check-label" for="postedCheckbox">Not Posted</label>
                                    {% endif %}
                                </div>
                                <input type="hidden" name="modelType" value="Pharma">
                                <input type="hidden" name="id" value={{p.id}}>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="plasma" role="tabpanel" aria-labelledby="plasma-tab">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th scope="col" class="col-10">Info</th>
                        <th scope="col" class="col-2">Posted on Instagram</th>
                    </tr>
                </thead>
                <tbody>
                    {% for p in plasmaList reversed %}
                    <tr>
                        <td>{{p}}</td>
                        <td>
                            <form action="{% url 'usercompletelist' %}" method="POST">
                                {% csrf_token %}
                                <div class="form-check form-switch">
                                    {% if p.posted %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox" checked>
                                    <label class="form-check-label" for="postedCheckbox">Posted</label>
                                    {% else %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    <label class="form-check-label" for="postedCheckbox">Not Posted</label>
                                    {% endif %}
                                </div>
                                <input type="hidden" name="modelType" value="Plasma">
                                <input type="hidden" name="id" value="{{p.id}}">
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="tab-pane fade" id="hospital" role="tabpanel" aria-labelledby="hospital-tab">
            <table class="table table-striped table-hover table-bordered">
                <thead>
                    <tr>
                        <th scope="col" class="col-10">Info</th>
                        <th scope="col" class="col-2">Posted on Instagram</th>
                    </tr>
                </thead>
                <tbody>
                    {% for h in hospitalList reversed %}
                    <tr>
                        <td>{{h}}</td>
                        <td>
                            <form action="{% url 'usercompletelist' %}" method="POST">
                                {% csrf_token %}
                                <div class="form-check form-switch">
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    {% if h.posted %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox" checked>
                                    <label class="form-check-label" for="postedCheckbox">Posted</label>
                                    {% else %}
                                    <input onChange="this.form.submit()" class="form-check-input" type="checkbox"
                                        id="postedCheckbox" name="postedCheckbox">
                                    <label class="form-check-label" for="postedCheckbox">Not Posted</label>
                                    {% endif %}
                                </div>
                                <input type="hidden" name="modelType" value="Hospital">
                                <input type="hidden" name="id" value={{h.id}}>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}